<div metal:define-macro="experiment_list">
  <div class="body">
    <table class = "experimenttable">
        <thead>
            <tr>
                <th></th>
                <th>Experiment</th>
                <th>Description</th>
                <th>Author</th>
                <th>Journal Info</th>
            </tr>
        </thead>
        <tbody>
            <tal:experiments tal:repeat="(i, experiment) enumerate(experiments)">
                <tr tal:attributes="class 'experiment' + (' even' if i % 2 == 0 else ' odd'); id 'e%d' % (experiment.id)" >
                    <td><a tal:condition="len(experiment.children) > 0" class="expand" href="${request.application_url}/experiments" tal:attributes="id 'e'+str(experiment.id)">[+]</a></td>
                    <td><a tal:attributes="href request.application_url + '/experiments/' + str(experiment.id)" tal:content="experiment.name"></a></td>
                    <td tal:content="experiment.description"></td>
                    <td tal:content="experiment.author"></td>
                    <td class="citation" tal:content="experiment.getCitationString()"></td>
                </tr>
                <tr tal:repeat="child experiment.children" tal:attributes="class 'subexperiment' + (' even' if i % 2 == 0 else ' odd');id 'e'+str(experiment.id)" >
                    <td></td>
                    <td><a tal:attributes="href request.application_url + '/experiments/' + str(child.id)" tal:content="child.name"></a></td>
                    <td><a tal:attributes="href request.application_url + '/experiments/' + str(child.id)" tal:content="child.description"></a></td>
                    <td><a tal:attributes="href request.application_url + '/experiments/' + str(child.id)" tal:content="child.author"></a></td>
                    <td class="citation" tal:content="child.getCitationString()"></td>
                </tr>
            </tal:experiments>
        </tbody>
    </table>    
  </div>	
</div>
