<div metal:use-macro="layout">
    <div metal:fill-slot="header">
        <link rel="stylesheet" type="text/css" href="${request.static_url('ptmscout:static/css/forms.css')}" />
        
        <script type="text/javascript" src="${request.static_url('ptmscout:static/js/utils.js')}" ></script>
        <script type="text/javascript" src="${request.static_url('ptmscout:static/js/base64.js')}"></script>
        <script type="text/javascript" src="${request.static_url('ptmscout:static/js/upload.form.js')}"></script>
    </div>
    <div metal:fill-slot="content">
        <form action="" method="post">
            <div class="hidden" id="pubmed_query_url">${request.application_url}/webservice/pubmed/</div>
            <input type="hidden" value="true" name="submitted" />
            <div class="wideform">
                <div class="error_display" tal:condition="len(errors)>0">
	                <ul>
	                    <li tal:repeat="error errors" tal:content="error"></li>
	                </ul>
                </div>
                <div class="formcategory">Experiment Information</div>
                <table>
                    <tr>    
                        <td class="fieldname">Experiment Name:</td>
                        <td >${formrenderer.render('experiment_name')}</td>
                    </tr>
                    <tr>
                        <td class="fieldname">Published:</td>
                        <td>
                            ${formrenderer.render('published',id_='pubselect')}
                        </td>
                    </tr>
                    <tr>
                        <td class="fieldname">URL:*</td>
                        <td>${formrenderer.render('URL')}</td>
                    </tr>
                    <tr>
                        <td class="fieldname">Description:</td>
                        <td>${formrenderer.render('description')}</td>
                    </tr>
                    <tr class="pubinfo">
                        <td class="fieldname">PubMed ID:*</td>
                        <td>
                            ${formrenderer.render('pmid')}
                            <input type="button" id="load_pubmed" value="Load Pubmed Citation" class="longtask" />
                            <span id="pmiderror" class="errortext" style="display:none"></span>
                        </td>
                    </tr>
                    <tr class="pubinfo">
                        <td class="fieldname">Authors:</td>
                        <td>${formrenderer.render('authors')}</td>
                    </tr>
                    <tr class="pubinfo">
                        <td class="fieldname">Author Contact E-mail:</td>
                        <td>${formrenderer.render('author_contact')}</td>
                    </tr>
                    <tr class="pubinfo">
                        <td class="fieldname">Journal:</td>
                        <td>${formrenderer.render('journal')}</td>
                    </tr>
                    <tr class="pubinfo">
                        <td class="fieldname">Publication Date:</td>
                        <td>
                            ${formrenderer.render('publication_month')}
                            ${formrenderer.render('publication_year')}
                        </td>
                    </tr>
                    <tr class="pubinfo">
                        <td class="fieldname">Volume:</td>
                        <td >${formrenderer.render('volume')}</td>
                    </tr>
                    <tr class="pubinfo">
                        <td class="fieldname">Pages:</td>
                        <td>
                            ${formrenderer.render('page_start')} to
                            ${formrenderer.render('page_end')}
                        </td>
                    </tr>
                </table>
                
                
                <div class="formcategory">Experiment Data</div>
                <table>
                    <tr>
                        <td class="fieldname">Contains mass-spec data with possibly ambiguous accessions:</td>
                        <td> 
                            ${formrenderer.render('ambiguous')} 
                        </td>
                    </tr>
                    <tr>
                        <td class="fieldname">Notes:*</td>
                        <td>
                            ${formrenderer.render('notes')}
                        </td>
                    </tr>
                </table>
                
                <div class="formsubmission">
                    <input type="submit" value="Continue" />
                    <a tal:attributes="href '%s/upload/%d/cancel' % (request.application_url, session_id)">Cancel</a>
                </div>
                <div class="clear"></div>               
                <div class="formfooter">* denotes an optional field, all other fields are required</div>
            </div>
        </form>
    </div>
</div>
