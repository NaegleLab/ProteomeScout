<div metal:use-macro="layout">
    <div metal:fill-slot="header">
        <link rel="stylesheet" type="text/css" href="${request.static_url('ptmscout:static/css/upload_conditions.css')}" />
        <link rel="stylesheet" type="text/css" href="${request.static_url('ptmscout:static/css/forms.css')}" />
        
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.js" ></script>
        <script type="text/javascript" src="${request.static_url('ptmscout:static/js/utils.js')}" ></script>
        <script type="text/javascript" src="${request.static_url('ptmscout:static/js/base64.js')}"></script>
        <script type="text/javascript" src="${request.static_url('ptmscout:static/js/datafile.configurator.js')}"></script>
    </div>
    <div metal:fill-slot="content">
        <div class="conditions_form">
            <div class="error_display" tal:condition="len(errors)>0">
                <ul>
                    <li tal:repeat="error errors" tal:content="error"></li>
                </ul>
            </div>
            <form action="" method="post">
                <input type="hidden" name="submitted" value="true" />
	            <div tal:repeat="i xrange(0, MAX_FIELDS)" tal:attributes="class 'condition hidden' if i not in added_fields else 'condition'">
	                ${formrenderer.render('%d_type' % (i,), class_='cond_type')}
	                ${formrenderer.render('%d_value' % (i,), class_='cond_value')}
	                <input class="remove_condition" type="button" value="Remove" />
                </div>
                <div class="condition">
                    <input class="add_condition" type="button" value="Add Experimental Condition" />
                </div>
                <div class="formsubmission">
                    <input type="submit" value="Continue" />
                </div>
                <div class="clear"></div>
            </form>
        </div>
    </div>
</div>