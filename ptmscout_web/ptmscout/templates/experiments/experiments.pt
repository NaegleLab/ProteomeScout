<div metal:use-macro="layout">
	<div metal:fill-slot="header">
		<script type="text/javascript" src="${request.static_url('ptmscout:static/js/experiments.js')}" ></script>
		<link rel="stylesheet" type="text/css" href="${request.static_url('ptmscout:static/css/experiments.css')}" />
	</div>
    <div metal:fill-slot="content">
        <div class="experiment-group">
            <div class="group-title">Compendia:</div>
            <table class = "experimenttable drop-shadow">
                <thead>
                    <tr>
                        <th></th>
                        <th>Compendia</th>
                        <th>Description</th>
                        <th>Author</th>
                        <th>Journal Info</th>
                    </tr>
                </thead>
                <tbody>
                    <tal:experiments tal:repeat="(i, experiment) enumerate(compendia)">
                        <tr tal:attributes="class 'experiment' + (' even' if i % 2 == 0 else ' odd'); id 'e%d' % (experiment.id)" >
                            <td class='expander'><a tal:condition="len(experiment.children) > 0" class="expand" href="${request.application_url}/experiments" tal:attributes="id 'e'+str(experiment.id)">[+]</a></td>
                            <td>${structure:experiment.getClickable(request, new_window = True)}</td>
                            <td tal:content="experiment.description"></td>
                            <td tal:content="experiment.author"></td>
                            <td class="citation" tal:content="experiment.getCitationString()"></td>
                        </tr>
                    </tal:experiments>
                </tbody>
            </table>
        </div>
        <div class="experiment-group">
            <div class="group-title">Experiments:</div>
            <table class = "experimenttable drop-shadow">
                <thead>
                    <tr>
                        <th></th>
                        <th>Experiment</th>
                        <th>Description</th>
                        <th>Author</th>
                        <th>Journal Info</th>
                    </tr>
                </thead>
                <tbody>
                    <tal:experiments tal:repeat="(i, experiment) enumerate(experiments)">
                        <tr tal:attributes="parent 'e%d' % (experiment.experiment_id) if experiment.experiment_id else None; class 'experiment' + (' even' if i % 2 == 0 else ' odd'); id 'e%d' % (experiment.id)" >
                            <td class='expander'><a tal:condition="len(experiment.children) > 0" class="expand" href="${request.application_url}/experiments">[+]</a></td>
                            <td>${structure:experiment.getClickable(request)}</td>
                            <td tal:content="experiment.description"></td>
                            <td tal:content="experiment.author"></td>
                            <td class="citation" tal:content="experiment.getCitationString()"></td>
                        </tr>
                    </tal:experiments>
                </tbody>
            </table>
        </div>

    </div>
</div>
